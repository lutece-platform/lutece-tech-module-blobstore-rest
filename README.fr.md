![](https://dev.lutece.paris.fr/jenkins/buildStatus/icon?job=tech-module-blobstore-rest-deploy)
[![Alerte](https://dev.lutece.paris.fr/sonar/api/project_badges/measure?project=fr.paris.lutece.plugins%3Amodule-blobstore-rest&metric=alert_status)](https://dev.lutece.paris.fr/sonar/dashboard?id=fr.paris.lutece.plugins%3Amodule-blobstore-rest)
[![Line of code](https://dev.lutece.paris.fr/sonar/api/project_badges/measure?project=fr.paris.lutece.plugins%3Amodule-blobstore-rest&metric=ncloc)](https://dev.lutece.paris.fr/sonar/dashboard?id=fr.paris.lutece.plugins%3Amodule-blobstore-rest)
[![Coverage](https://dev.lutece.paris.fr/sonar/api/project_badges/measure?project=fr.paris.lutece.plugins%3Amodule-blobstore-rest&metric=coverage)](https://dev.lutece.paris.fr/sonar/dashboard?id=fr.paris.lutece.plugins%3Amodule-blobstore-rest)

# Descriptif du plugin

## Introduction

Ce module permet de manipuler des données, sous forme de web services REST, des fichiers du plugin BlobStore.

## Installation

Configurer les clés privées utilisées pour les signatures dans le fichier **blobstore-rest.xml** :

```

<filters>
	<filter>
		<filter-name>CRMRestSecurity</filter-name>
		<url-pattern>/rest/blobstore/*</url-pattern>
		<filter-class>fr.paris.lutece.util.signrequest.servlet.HeaderHashRequestFilter</filter-class>

		<init-param>
			<param-name>elementsSignature</param-name>
			<param-value>blob_key</param-value>
		</init-param>

		<init-param>
			<param-name>validityTimePeriod</param-name>
			<param-value>0</param-value>
		</init-param>

		<init-param>
			<param-name>privateKey</param-name>
			<param-value> **change me** </param-value>
		</init-param>
	</filter>
</filters>

```

## Usage - JSP de test

Il existe une JSP permettant de faire des tests sur le module-blobstore-rest. Elle est accessible par l'URL suivante :

 **jsp/admin/plugins/blobstore/modules/rest/TestBlobStoreRest.jsp** 

 **Note :** Pour accéderàcette JSP, il fautêtre authentifiédans le Back-Office. Il fautégalement commenter dans le fichier blobstore-rest.xml les filtres de façonàce qu'il n'utilise pas la sécurité, sinon une réponse HTTP 401 sera renvoyée.

## Syntaxe des URLs
Création d'un blob
Pour créer un blob, il faut faire un formulaire de type **POST** , ayant un enctype **multipart/form-data** et avoir les paramètres suivants :

| Nom du paramètre| Type du paramètre| Description du paramètre|
|-----------------|-----------------|-----------------|
| blobstore| text| Correspond au nom du BlobStore Service|
| blob| file| Correspond au fichieràuploader|


```

http://myhost/mywebapps/rest/blobstore/create

```

Suppression d'un blob
Pour supprimer un blob, il faut faire un formulaire de type **POST** et avoir les paramètres suivants :

| Nom du paramètre| Type du paramètre| Description du paramètre|
|-----------------|-----------------|-----------------|
| blob_key| text| Correspondàl'ID du blob|
| blobstore| text| Correspond au nom du BlobStore Service|


```

http://myhost/mywebapps/rest/blobstore/delete

```



[Maven documentation and reports](https://dev.lutece.paris.fr/plugins/module-blobstore-rest/)



 *generated by [xdoc2md](https://github.com/lutece-platform/tools-maven-xdoc2md-plugin) - do not edit directly.*